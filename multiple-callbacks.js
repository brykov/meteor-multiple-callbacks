// Generated by CoffeeScript 1.7.1
(function() {
  var Template, _bootstrap_callbacks,
    __slice = [].slice;

  Template = Package.templating.Template;

  Template._multiple_callbacks = {};

  _bootstrap_callbacks = [];

  _.each(['created', 'rendered', 'destroyed'], function(callback_name) {
    Template._multiple_callbacks[callback_name] = {};
    Template[callback_name] = function() {
      var args, callback, template_names;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      callback = args.pop();
      template_names = args.length ? args : [null];
      return _.each(template_names, (function(_this) {
        return function(template_name) {
          var _base;
          (_base = Template._multiple_callbacks[callback_name])[template_name] || (_base[template_name] = []);
          return Template._multiple_callbacks[callback_name][template_name].push(callback);
        };
      })(this));
    };
    return _bootstrap_callbacks.push(function() {
      var template, template_name, _results;
      _results = [];
      for (template_name in Template) {
        template = Template[template_name];
        _results.push((function(template_name, template) {
          var _previous_callback;
          if (template instanceof Blaze.Template) {
            _previous_callback = Template[template_name][callback_name];
            return Template[template_name][callback_name] = function() {
              var self;
              self = this;
              return _.each(_.union([_previous_callback], Template._multiple_callbacks[callback_name][template_name], Template._multiple_callbacks[callback_name][null]), function(func) {
                return _.isFunction(func) && func.bind(self)();
              });
            };
          }
        })(template_name, template));
      }
      return _results;
    });
  });

  Meteor.startup(function() {
    return _.each(_bootstrap_callbacks, function(bootstrap_code) {
      return bootstrap_code();
    });
  });

}).call(this);

//# sourceMappingURL=multiple-callbacks.map
